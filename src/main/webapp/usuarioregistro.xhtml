<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<h:outputStylesheet name="css/estilos.css" />
</h:head>
<body>

	<h:form id="cuadrado">
		
		<p:growl id="growl" showDetail="true" sticky="true">
			<p:autoUpdate />
		</p:growl>
		<h2 style="color: #003778; text-align: center">REGISTRAR USUARIOS</h2>


		<p:panelGrid id="panel" columns="1" cellpadding="5" cellspacing="1"
			style="padding-right: 50px; margin: 0 auto;">

			<p:column style="border-style: hidden; width:130px;">Ci/RUC/Pasaporte: </p:column>
			<p:column style="border-style: hidden;">
				<p:inputText id="txtCi" maxlength="13"
					placeholder="Ingrese la cédula "
					value="#{usuarioBean.usuario.username}">

				</p:inputText>
				<p:message for="txtCi" display="icon" />
			</p:column>

			<p:commandButton id="btng" value="Consultar" ajax="false"
				actionListener="#{usuarioBean.consultaIdentificacion(usuarioBean.usuario.username)}"
				update="pgDatosUsuario,txtNombres,txtCargo1">
			</p:commandButton>

			<p:column style="border-style: hidden; width:130px;">Nombres: </p:column>
			<p:column style="border-style: hidden;">
				<p:inputText id="txtNombres" disabled="true"
					value="#{usuarioBean.usuarioRegCivil.nombre}" style="width:300px;">
				</p:inputText>
				<p:message for="txtNombres" display="text" />
			</p:column>
			
			
			<p:column style="border-style: hidden; width:130px;" rendered="#{usuarioBean.render}">Cargo: </p:column>
			<p:column style="border-style: hidden;" rendered="#{usuarioBean.render}">
				<p:inputText id="txtCargo1" value="#{usuarioBean.usuario.cargo}" rendered="#{usuarioBean.render}"
					style="width:300px;" disabled="#{usuarioBean.valida}"
					maxlength="100" required="true" requiredMessage="Requerido Cargp">
				</p:inputText>
				<p:message for="txtCargo1" display="text" />
			</p:column>
		</p:panelGrid>

		<p:panelGrid id="pgDatosUsuario" rendered="#{usuarioBean.render}"
			columns="1" cellpadding="5" cellspacing="1"
			style="padding-right: 50px; margin: 0 auto;">
			<p:column style="border-style: hidden; width:130px;">Cargo: </p:column>
			<p:column style="border-style: hidden;">
				<p:inputText id="txtCargo" value="#{usuarioBean.usuario.cargo}"
					style="width:300px;" disabled="#{usuarioBean.valida}"
					maxlength="100" required="true" requiredMessage="Requerido Cargp">
				</p:inputText>
				<p:message for="txtCargo" display="text" />
			</p:column>

			<p:column style="border-style: hidden; width:130px;">Titulo: </p:column>
			<p:column style="border-style: hidden;">
				<p:inputText id="txtTitulo" value="#{usuarioBean.usuario.titulo}"
					style="width:100px;" disabled="#{usuarioBean.valida}"
					maxlength="30" required="true" requiredMessage="Requerido Título">
				</p:inputText>
				<p:message for="txtCargo" display="text" />
			</p:column>

			<p:column style="border-style: hidden; width:130px;">Correo Electrónico: </p:column>
			<p:column style="border-style: hidden;">
				<p:inputText id="txtCorreo"
					value="#{usuarioBean.usuario.correo_electronico}"
					style="width:300px;" disabled="#{usuarioBean.valida}"
					maxlength="100" required="true"
					requiredMessage="Requerido Correo electronico"
					validatorMessage="Correo electrónico no es válido">
					<f:validateRegex
						pattern="[\w\.-]*[a-zA-Z0-9_]@[\w\.-]*[a-zA-Z0-9]\.[a-zA-Z][a-zA-Z\.]*[a-zA-Z]" />
				</p:inputText>
				<p:message for="txtCorreo" display="text" />
			</p:column>
			<p:column style="border-style: hidden;width:50px;"></p:column>
			<p:column style="border-style: hidden; width:130px;">Tipo de Certificado: </p:column>
			<p:column style="border-style: hidden;">
				<p:selectOneMenu id="tipoCert" disabled="#{usuarioBean.valida}"
					value="#{usuarioBean.usuario.tipoCertificado}" required="true"
					style="width:100px">
					<f:selectItem itemLabel="Token" itemValue="T" />
					<f:selectItem itemLabel="Archivo" itemValue="A" />
				</p:selectOneMenu>
			</p:column>
			<p:commandButton id="btnguardar" value="Guardar"
				icon="fa fa-fw fa-floppy-o"
				actionListener="#{usuarioBean.registrar()}" process="@form"
				update=" @this" disabled="#{usuarioBean.estadeshabilitado}">

			</p:commandButton>
		</p:panelGrid>

	</h:form>
</body>
</html>
